{
  "id": "housekeeping",
  "title": "Housekeeping Management",
  "description": "Manages housekeeping staff tasks, shift allocations, area cleanliness tracking, and maintenance requests within hospital facilities.",
  "route": "/housekeeping",
  "icon": "Broom",
  "entity": "HousekeepingTask",
  "version": "1.0.0",

  "permissions": {
    "view": ["Admin", "HousekeepingSupervisor"],
    "create": ["Admin", "HousekeepingSupervisor"],
    "edit": ["Admin", "HousekeepingSupervisor"],
    "delete": ["Admin"]
  },

  "api": {
    "list": "/api/housekeeping",
    "get": "/api/housekeeping/:id",
    "create": "/api/housekeeping",
    "update": "/api/housekeeping/:id",
    "delete": "/api/housekeeping/:id"
  },

  "fields": [
    {
      "name": "id",
      "label": "Task ID",
      "type": "uuid",
      "primary": true,
      "autoGenerated": true
    },
    {
      "name": "assignedStaffId",
      "label": "Assigned Staff",
      "type": "relation",
      "relationEntity": "staffattendance",
      "relationField": "staffName",
      "required": true,
      "showInList": true
    },
    {
      "name": "area",
      "label": "Area / Room",
      "type": "string",
      "placeholder": "Enter ward, room or facility area",
      "required": true,
      "showInList": true
    },
    {
      "name": "taskType",
      "label": "Task Type",
      "type": "enum",
      "options": ["CLEANING", "MAINTENANCE", "WASTE_DISPOSAL", "SANITIZATION"],
      "widget": "select",
      "required": true,
      "showInList": true
    },
    {
      "name": "priority",
      "label": "Priority Level",
      "type": "enum",
      "options": ["LOW", "MEDIUM", "HIGH", "CRITICAL"],
      "widget": "badge",
      "default": "MEDIUM",
      "showInList": true
    },
    {
      "name": "scheduledDate",
      "label": "Scheduled Date",
      "type": "datetime",
      "required": true,
      "showInList": true
    },
    {
      "name": "completionDate",
      "label": "Completion Date",
      "type": "datetime",
      "showInList": true
    },
    {
      "name": "status",
      "label": "Status",
      "type": "enum",
      "options": ["PENDING", "IN_PROGRESS", "COMPLETED", "VERIFIED"],
      "widget": "badge",
      "default": "PENDING",
      "showInList": true
    },
    {
      "name": "verificationBy",
      "label": "Verified By",
      "type": "relation",
      "relationEntity": "users",
      "relationField": "email",
      "showInList": true
    },
    {
      "name": "remarks",
      "label": "Remarks / Notes",
      "type": "text",
      "placeholder": "Enter any special remarks or issues",
      "showInList": false
    },
    {
      "name": "photoEvidence",
      "label": "Before/After Photos",
      "type": "file",
      "multiple": true,
      "showInList": false
    },
    {
      "name": "createdAt",
      "label": "Created At",
      "type": "datetime",
      "readOnly": true,
      "showInList": true
    },
    {
      "name": "updatedAt",
      "label": "Updated At",
      "type": "datetime",
      "readOnly": true
    }
  ],

  "relations": [
    {
      "entity": "staffattendance",
      "type": "ManyToOne",
      "foreignKey": "assignedStaffId"
    },
    {
      "entity": "users",
      "type": "ManyToOne",
      "foreignKey": "verificationBy"
    }
  ],

  "ui": {
    "listView": {
      "title": "Housekeeping Task List",
      "columns": ["area", "taskType", "priority", "status", "scheduledDate", "assignedStaffId"],
      "filters": ["status", "priority", "taskType"],
      "searchFields": ["area", "assignedStaffId"],
      "actions": ["view", "edit", "delete"]
    },
    "formView": {
      "title": "Add / Edit Housekeeping Task",
      "layout": [
        ["area", "taskType"],
        ["priority", "status"],
        ["assignedStaffId"],
        ["scheduledDate", "completionDate"],
        ["remarks"],
        ["photoEvidence"]
      ],
      "actions": ["save", "cancel"]
    },
    "detailView": {
      "title": "Task Details",
      "sections": [
        {
          "title": "General Information",
          "fields": ["area", "taskType", "priority", "status"]
        },
        {
          "title": "Staff & Schedule",
          "fields": ["assignedStaffId", "scheduledDate", "completionDate"]
        },
        {
          "title": "Verification & Media",
          "fields": ["verificationBy", "photoEvidence", "remarks"]
        }
      ]
    }
  },

  "actions": [
    {
      "id": "markCompleted",
      "label": "Mark as Completed",
      "type": "update",
      "endpoint": "/api/housekeeping/:id/status",
      "method": "PUT",
      "payload": { "status": "COMPLETED" },
      "successMessage": "Task marked as completed successfully!"
    },
    {
      "id": "verifyTask",
      "label": "Verify Task",
      "type": "update",
      "endpoint": "/api/housekeeping/:id/status",
      "method": "PUT",
      "payload": { "status": "VERIFIED" },
      "successMessage": "Task verified successfully!"
    }
  ],

  "reasoning": {
    "businessLogic": "Housekeeping management ensures hospital hygiene and maintenance tasks are completed on time. Each task is linked to assigned staff, with photo verification for audit and quality control.",
    "uiLogic": "Supervisors can view, assign, and verify cleaning tasks with simple status badges and upload-based verification. The system highlights overdue or high-priority tasks automatically."
  }
}
