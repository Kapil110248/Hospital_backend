{
  "id": "roles",
  "title": "Roles & Access Control",
  "description": "Defines user roles, hierarchy, and access permissions across the Hospital Management System.",
  "route": "/roles",
  "icon": "ShieldCheck",
  "entity": "Role",
  "version": "1.0.0",

  "permissions": {
    "view": ["Admin"],
    "create": ["Admin"],
    "edit": ["Admin"],
    "delete": ["Admin"]
  },

  "api": {
    "list": "/api/roles",
    "get": "/api/roles/:id",
    "create": "/api/roles",
    "update": "/api/roles/:id",
    "delete": "/api/roles/:id"
  },

  "fields": [
    {
      "name": "id",
      "label": "Role ID",
      "type": "uuid",
      "autoGenerated": true,
      "primary": true
    },
    {
      "name": "name",
      "label": "Role Name",
      "type": "string",
      "required": true,
      "unique": true,
      "placeholder": "Enter role name (e.g., ADMIN, DOCTOR)",
      "validation": {
        "pattern": "^[A-Z_]+$"
      },
      "showInList": true
    },
    {
      "name": "displayName",
      "label": "Display Name",
      "type": "string",
      "placeholder": "Doctor, Nurse, Admin",
      "required": true,
      "showInList": true
    },
    {
      "name": "description",
      "label": "Description",
      "type": "text",
      "placeholder": "Describe the role’s purpose and responsibilities",
      "showInList": false
    },
    {
      "name": "hierarchyLevel",
      "label": "Hierarchy Level",
      "type": "number",
      "placeholder": "Lower value = higher privilege",
      "showInList": true,
      "sortable": true
    },
    {
      "name": "defaultLandingPage",
      "label": "Default Dashboard Path",
      "type": "string",
      "placeholder": "/dashboard/doctor",
      "showInList": true
    },
    {
      "name": "permissions",
      "label": "Module Permissions",
      "type": "relation-multi",
      "relationEntity": "permissions",
      "relationField": "actionName",
      "widget": "checkbox-list",
      "showInList": false
    },
    {
      "name": "status",
      "label": "Status",
      "type": "enum",
      "options": ["ACTIVE", "INACTIVE"],
      "default": "ACTIVE",
      "widget": "badge",
      "colorMap": {
        "ACTIVE": "green",
        "INACTIVE": "red"
      },
      "showInList": true
    },
    {
      "name": "createdAt",
      "label": "Created At",
      "type": "datetime",
      "readOnly": true,
      "showInList": true
    },
    {
      "name": "updatedAt",
      "label": "Updated At",
      "type": "datetime",
      "readOnly": true
    }
  ],

  "relations": [
    { "entity": "permissions", "type": "ManyToMany", "foreignKey": "roleId" },
    { "entity": "users", "type": "OneToMany", "foreignKey": "roleId" }
  ],

  "ui": {
    "listView": {
      "title": "Role Directory",
      "columns": ["displayName", "name", "hierarchyLevel", "status", "defaultLandingPage"],
      "actions": ["view", "edit", "delete"],
      "filters": ["status"],
      "searchFields": ["displayName", "name"]
    },
    "formView": {
      "title": "Add / Edit Role",
      "layout": [
        ["displayName", "name"],
        ["hierarchyLevel", "defaultLandingPage"],
        ["description"],
        ["permissions"],
        ["status"]
      ],
      "actions": ["save", "cancel"]
    },
    "detailView": {
      "title": "Role Details",
      "sections": [
        {
          "title": "General Information",
          "fields": ["displayName", "name", "description", "hierarchyLevel", "status"]
        },
        {
          "title": "Linked Permissions",
          "fields": ["permissions"]
        },
        {
          "title": "Meta Info",
          "fields": ["createdAt", "updatedAt"]
        }
      ]
    }
  },

  "actions": [
    {
      "id": "createRole",
      "label": "Create Role",
      "type": "create",
      "endpoint": "/api/roles",
      "method": "POST",
      "successMessage": "Role created successfully!"
    },
    {
      "id": "updateRole",
      "label": "Update Role",
      "type": "edit",
      "endpoint": "/api/roles/:id",
      "method": "PUT",
      "successMessage": "Role updated successfully!"
    },
    {
      "id": "deleteRole",
      "label": "Delete Role",
      "type": "delete",
      "endpoint": "/api/roles/:id",
      "method": "DELETE",
      "confirmation": "Are you sure you want to delete this role?",
      "successMessage": "Role deleted successfully."
    }
  ],

  "reasoning": {
    "businessLogic": "Roles define hierarchical access within HMS Pro. The Admin has full privileges; each other role—Doctor, Nurse, Pharmacist, Accountant, etc.—is scoped to specific department functions. Roles are linked to permissions for flexible access mapping.",
    "uiLogic": "The Roles UI allows Admins to manage which modules each role can access. Hierarchy defines escalation flow (Admin > Doctor > Nurse > Staff). Default landing pages allow automatic redirection after login."
  }
}
