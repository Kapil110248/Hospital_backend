{
  "id": "users",
  "title": "User Management",
  "description": "Central user registry managing all hospital system accounts including admin, doctor, nurse, and other staff.",
  "route": "/users",
  "icon": "Users",
  "entity": "User",
  "version": "1.0.0",

  "permissions": {
    "view": ["ADMIN"],
    "create": ["ADMIN"],
    "edit": ["ADMIN"],
    "delete": ["ADMIN"]
  },

  "api": {
    "list": "/api/users",
    "get": "/api/users/:id",
    "create": "/api/users",
    "update": "/api/users/:id",
    "delete": "/api/users/:id",
    "resetPassword": "/api/users/:id/reset-password"
  },

  "fields": [
    { "name": "id", "label": "User ID", "type": "uuid", "primary": true, "autoGenerated": true },
    { "name": "fullName", "label": "Full Name", "type": "string", "required": true, "showInList": true },
    { "name": "email", "label": "Email", "type": "email", "required": true, "unique": true, "showInList": true },
    { "name": "contactNumber", "label": "Phone", "type": "string", "validation": { "pattern": "^[0-9]{10,15}$" }, "showInList": true },
    {
      "name": "role",
      "label": "Role",
      "type": "enum",
      "options": [
        "ADMIN",
        "DOCTOR",
        "NURSE",
        "PHARMACIST",
        "LAB_TECHNICIAN",
        "RADIOLOGIST",
        "RECEPTIONIST",
        "ACCOUNTANT"
      ],
      "widget": "select",
      "required": true,
      "showInList": true,
      "filterable": true
    },
    {
      "name": "departmentId",
      "label": "Department",
      "type": "relation",
      "relationEntity": "departments",
      "relationField": "name",
      "nullable": true,
      "showInList": true
    },
    {
      "name": "status",
      "label": "Status",
      "type": "enum",
      "options": ["ACTIVE", "INACTIVE", "SUSPENDED"],
      "default": "ACTIVE",
      "widget": "badge",
      "showInList": true,
      "filterable": true
    },
    { "name": "lastLogin", "label": "Last Login", "type": "datetime", "readOnly": true, "showInList": true },
    { "name": "createdAt", "label": "Created At", "type": "datetime", "readOnly": true, "showInList": true }
  ],

  "relations": [
    { "entity": "departments", "type": "ManyToOne", "foreignKey": "departmentId" },
    { "entity": "roles", "type": "ManyToOne", "foreignKey": "role" }
  ],

  "ui": {
    "listView": {
      "title": "System Users",
      "columns": ["fullName", "email", "role", "departmentId", "status", "lastLogin"],
      "filters": ["role", "status"],
      "searchFields": ["fullName", "email"],
      "actions": ["view", "edit", "deactivate", "resetPassword"]
    },
    "formView": {
      "title": "Create / Edit User",
      "layout": [["fullName", "email"], ["contactNumber"], ["role", "departmentId"], ["status"]],
      "actions": [
        { "id": "saveUser", "label": "Save", "type": "submit", "endpoint": "/api/users", "method": "POST", "successMessage": "User saved" },
        { "id": "cancel", "label": "Cancel", "type": "cancel" }
      ]
    },
    "detailView": {
      "title": "User Details",
      "sections": [
        { "title": "Profile", "fields": ["fullName", "email", "contactNumber", "role", "departmentId", "status"] },
        { "title": "Meta", "fields": ["lastLogin", "createdAt"] }
      ]
    }
  },

  "actions": [
    {
      "id": "deactivate",
      "label": "Deactivate",
      "type": "action",
      "endpoint": "/api/users/:id/deactivate",
      "method": "PATCH",
      "confirmation": "Are you sure?",
      "successMessage": "User deactivated"
    },
    {
      "id": "resetPassword",
      "label": "Reset Password",
      "type": "action",
      "endpoint": "/api/users/:id/reset-password",
      "method": "POST",
      "confirmation": "Send password reset link?",
      "successMessage": "Reset link sent"
    }
  ],

  "reasoning": {
    "businessLogic": "All hospital staff and system accounts are managed here. Role assignment links a user to module privileges and default dashboard. Department link helps filter staff for rosters and assignments.",
    "uiLogic": "Admin-only management UI with search, filters and quick actions for deactivation and password resets."
  }
}
