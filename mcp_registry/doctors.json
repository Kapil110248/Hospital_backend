{
  "id": "doctors",
  "title": "Doctors",
  "description": "Registry for doctors with specialization, schedule, contact information, linked appointments, and commission setup.",
  "route": "/doctors",
  "icon": "Stethoscope",
  "entity": "Doctor",
  "version": "1.0.0",

  "permissions": {
    "view": ["Admin", "Receptionist", "Doctor"],
    "create": ["Admin"],
    "edit": ["Admin"],
    "delete": ["Admin"]
  },

  "api": {
    "list": "/api/doctors",
    "get": "/api/doctors/:id",
    "create": "/api/doctors",
    "update": "/api/doctors/:id",
    "delete": "/api/doctors/:id"
  },

  "fields": [
    {
      "name": "id",
      "label": "Doctor ID",
      "type": "uuid",
      "primary": true,
      "autoGenerated": true,
      "showInList": false
    },
    {
      "name": "doctorCode",
      "label": "Doctor Code",
      "type": "string",
      "required": true,
      "unique": true,
      "placeholder": "DOC-001",
      "showInList": true,
      "sortable": true
    },
    {
      "name": "firstName",
      "label": "First Name",
      "type": "string",
      "required": true,
      "placeholder": "Enter first name",
      "validation": { "pattern": "^[A-Za-z]+$" },
      "showInList": true
    },
    {
      "name": "lastName",
      "label": "Last Name",
      "type": "string",
      "placeholder": "Enter last name",
      "showInList": true
    },
    {
      "name": "gender",
      "label": "Gender",
      "type": "enum",
      "options": ["MALE", "FEMALE", "OTHER"],
      "widget": "select",
      "required": true,
      "showInList": true
    },
    {
      "name": "specialization",
      "label": "Specialization",
      "type": "string",
      "required": true,
      "placeholder": "Cardiology, Neurology, etc.",
      "showInList": true,
      "filterable": true
    },
    {
      "name": "qualification",
      "label": "Qualification",
      "type": "string",
      "placeholder": "MBBS, MD, MS, etc."
    },
    {
      "name": "experienceYears",
      "label": "Experience (Years)",
      "type": "number",
      "min": 0,
      "max": 60,
      "default": 0,
      "showInList": true
    },
    {
      "name": "departmentId",
      "label": "Department",
      "type": "relation",
      "relationEntity": "departments",
      "relationField": "name",
      "widget": "select",
      "required": true,
      "showInList": true
    },
    {
      "name": "contactNumber",
      "label": "Phone",
      "type": "string",
      "validation": { "pattern": "^[0-9]{10,15}$" },
      "placeholder": "+91 9876543210",
      "showInList": true
    },
    {
      "name": "email",
      "label": "Email",
      "type": "email",
      "showInList": true
    },
    {
      "name": "consultationFee",
      "label": "Consultation Fee (â‚¹)",
      "type": "number",
      "min": 0,
      "default": 0,
      "showInList": true
    },
    {
      "name": "availability",
      "label": "Availability Schedule",
      "type": "object",
      "widget": "schedule",
      "fields": [
        { "name": "days", "label": "Days Available", "type": "array", "options": ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat"] },
        { "name": "startTime", "label": "Start Time", "type": "time" },
        { "name": "endTime", "label": "End Time", "type": "time" }
      ]
    },
    {
      "name": "referralCodeId",
      "label": "Referral Code",
      "type": "relation",
      "relationEntity": "referralcodes",
      "relationField": "code",
      "widget": "select"
    },
    {
      "name": "commissionRate",
      "label": "Commission Rate (%)",
      "type": "number",
      "min": 0,
      "max": 100,
      "default": 0
    },
    {
      "name": "isActive",
      "label": "Active",
      "type": "boolean",
      "default": true,
      "widget": "toggle",
      "showInList": true,
      "filterable": true
    },
    {
      "name": "createdAt",
      "label": "Created At",
      "type": "datetime",
      "readOnly": true,
      "showInList": true,
      "sortable": true
    },
    {
      "name": "updatedAt",
      "label": "Updated At",
      "type": "datetime",
      "readOnly": true
    }
  ],

  "relations": [
    { "entity": "departments", "type": "ManyToOne", "foreignKey": "departmentId" },
    { "entity": "appointments", "type": "OneToMany", "foreignKey": "doctorId" },
    { "entity": "consultations", "type": "OneToMany", "foreignKey": "doctorId" },
    { "entity": "prescriptions", "type": "OneToMany", "foreignKey": "doctorId" },
    { "entity": "commissionsetups", "type": "OneToOne", "foreignKey": "doctorId" },
    { "entity": "commissiontransactions", "type": "OneToMany", "foreignKey": "doctorId" },
    { "entity": "commissionpayouts", "type": "OneToMany", "foreignKey": "doctorId" }
  ],

  "ui": {
    "listView": {
      "title": "Doctors Directory",
      "columns": ["doctorCode", "firstName", "lastName", "specialization", "departmentId", "consultationFee", "isActive"],
      "searchFields": ["doctorCode", "firstName", "lastName", "specialization", "email"],
      "filters": ["specialization", "departmentId", "isActive"],
      "actions": ["view", "edit", "delete"]
    },
    "formView": {
      "title": "Add / Edit Doctor",
      "layout": [
        ["doctorCode", "firstName", "lastName"],
        ["gender", "specialization", "qualification"],
        ["experienceYears", "departmentId", "consultationFee"],
        ["contactNumber", "email"],
        ["availability"],
        ["referralCodeId", "commissionRate"],
        ["isActive"]
      ],
      "actions": ["save", "reset", "cancel"]
    },
    "detailView": {
      "title": "Doctor Profile",
      "sections": [
        {
          "title": "Personal Information",
          "fields": ["doctorCode", "firstName", "lastName", "gender", "specialization", "qualification", "experienceYears"]
        },
        {
          "title": "Department & Schedule",
          "fields": ["departmentId", "availability.days", "availability.startTime", "availability.endTime"]
        },
        {
          "title": "Commission & Referrals",
          "fields": ["referralCodeId", "commissionRate"]
        }
      ]
    }
  },

  "actions": [
    {
      "id": "addDoctor",
      "label": "Add Doctor",
      "type": "create",
      "endpoint": "/api/doctors",
      "method": "POST",
      "successMessage": "Doctor added successfully"
    },
    {
      "id": "updateDoctor",
      "label": "Update Doctor",
      "type": "edit",
      "endpoint": "/api/doctors/:id",
      "method": "PUT",
      "successMessage": "Doctor details updated"
    },
    {
      "id": "assignCommission",
      "label": "Setup Commission",
      "type": "action",
      "endpoint": "/api/doctors/:id/commission",
      "method": "POST",
      "confirmation": "Setup commission for this doctor?",
      "successMessage": "Commission setup completed"
    },
    {
      "id": "toggleStatus",
      "label": "Activate / Deactivate",
      "type": "toggle",
      "endpoint": "/api/doctors/:id/status",
      "method": "PATCH",
      "successMessage": "Doctor status updated"
    }
  ],

  "reasoning": {
    "businessLogic": "Doctors are core service providers in the hospital ecosystem. Each doctor is linked with a department, availability schedule, referral code, and commission setup. The consultation fee drives billing and commission modules.",
    "uiLogic": "Admin manages doctor creation, schedule, and commission. Receptionists and nurses can only view. The UI integrates with Appointments and Commission pages as shown in the wireframe."
  }
}
